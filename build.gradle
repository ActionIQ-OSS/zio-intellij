plugins {
    id 'org.jetbrains.intellij' version '0.4.16'
    id 'scala'
}

group 'zio.intellij'
version '2019.3.0.2'

repositories {
    mavenCentral()
}

// See https://github.com/JetBrains/gradle-intellij-plugin/
intellij {
    version '2019.3'
    plugins 'org.intellij.scala:2019.3.23', 'java'
}

dependencies {
    compile project(':testrunner_2.12')
    compile project(':testrunner_2.13')
    compileOnly 'org.scala-lang:scala-library:2.12.10'
    testCompileOnly 'org.scala-lang:scala-library:2.12.10'
}

// do not change, this is needed for the test runner copy hack
// it will be fixed at some point.
jar {
    archiveName = "zio-intellij.jar"
}

patchPluginXml {
    changeNotes """
      v0.1 - First release!<br>
      Includes:
      <ul>
        <li>Refactorings and suggestions</li>
        <li>Support for zio-macros (e.g. <code>@accessible</code>)</li>
        <li>Test runner</li>
        <li>And much more!</li>
      </ul>
      """
}